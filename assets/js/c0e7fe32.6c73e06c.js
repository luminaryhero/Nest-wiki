"use strict";(self.webpackChunkNest_wiki=self.webpackChunkNest_wiki||[]).push([[5631],{4904:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>a});var r=s(1527),t=s(7540);const i={},o=void 0,c={id:"OPENAPI/\u64cd\u4f5c",title:"\u64cd\u4f5c",description:"\u5728 OpenAPI \u672f\u8bed\u4e2d\uff0c\u8def\u5f84\u662f API \u516c\u5f00\u7684\u7aef\u70b9\uff08\u8d44\u6e90\uff09\uff0c\u4f8b\u5982 /users \u6216/reports/summary \uff0c\u64cd\u4f5c\u662f\u7528\u4e8e\u64cd\u4f5c\u8fd9\u4e9b\u8def\u5f84\u7684 HTTP \u65b9\u6cd5\uff0c\u4f8b\u5982 GET \u6216 POST DELETE \u3002",source:"@site/docs/OPENAPI/\u64cd\u4f5c.md",sourceDirName:"OPENAPI",slug:"/OPENAPI/\u64cd\u4f5c",permalink:"/Nest-wiki/docs/OPENAPI/\u64cd\u4f5c",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u4ecb\u7ecd",permalink:"/Nest-wiki/docs/OPENAPI/\u4ecb\u7ecd"},next:{title:"\u5b89\u5168",permalink:"/Nest-wiki/docs/OPENAPI/\u5b89\u5168"}},l={},a=[{value:"Tags",id:"tags",level:2},{value:"Headers",id:"headers",level:2},{value:"\u4e0a\u4f20\u6587\u4ef6",id:"\u4e0a\u4f20\u6587\u4ef6",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u5728 OpenAPI \u672f\u8bed\u4e2d\uff0c\u8def\u5f84\u662f API \u516c\u5f00\u7684\u7aef\u70b9\uff08\u8d44\u6e90\uff09\uff0c\u4f8b\u5982 ",(0,r.jsx)(n.code,{children:"/users"})," \u6216",(0,r.jsx)(n.code,{children:"/reports/summary"})," \uff0c\u64cd\u4f5c\u662f\u7528\u4e8e\u64cd\u4f5c\u8fd9\u4e9b\u8def\u5f84\u7684 HTTP \u65b9\u6cd5\uff0c\u4f8b\u5982 ",(0,r.jsx)(n.code,{children:"GET"})," \u6216 ",(0,r.jsx)(n.code,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"DELETE"})," \u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"tags",children:"Tags"}),"\n",(0,r.jsxs)(n.p,{children:["\u82e5\u8981\u5c06\u63a7\u5236\u5668\u9644\u52a0\u5230\u7279\u5b9a\u6807\u8bb0\uff0c\u8bf7\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"@ApiTags(...tags)"})," \u4fee\u9970\u5668\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"@ApiTags('cats')\n@Controller('cats')\nexport class CatsController {}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"headers",children:"Headers"}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u5b9a\u4e49\u4f5c\u4e3a\u8bf7\u6c42\u4e00\u90e8\u5206\u7684\u81ea\u5b9a\u4e49\u6807\u5934\uff0c\u8bf7\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"@ApiHeader()"})," \u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"@ApiHeader({\n  name: 'X-MyHeader',\n  description: 'Custom header',\n})\n@Controller('cats')\nexport class CatsController {}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4e0a\u4f20\u6587\u4ef6",children:"\u4e0a\u4f20\u6587\u4ef6"}),"\n",(0,r.jsxs)(n.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"@ApiBody"})," \u88c5\u9970\u5668\u548c ",(0,r.jsx)(n.code,{children:"@ApiConsumes()"})," \u4e3a\u7279\u5b9a\u65b9\u6cd5\u542f\u7528\u6587\u4ef6\u4e0a\u4f20\u3002\u8fd9\u662f\u4f7f\u7528\u6587\u4ef6\u4e0a\u4f20\u6280\u672f\u7684\u5b8c\u6574\u793a\u4f8b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"@UseInterceptors(FileInterceptor('file'))\n@ApiConsumes('multipart/form-data')\n@ApiBody({\n  description: 'List of cats',\n  type: FileUploadDto,\n})\nuploadFile(@UploadedFile() file) {}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,r.jsx)(n.code,{children:"FileUploadDto"})," \u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"class FileUploadDto {\n  @ApiProperty({ type: 'string', format: 'binary' })\n  file: any;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u5904\u7406\u591a\u4e2a\u6587\u4ef6\u4e0a\u4f20\uff0c\u53ef\u4ee5\u5b9a\u4e49 ",(0,r.jsx)(n.code,{children:"FilesUploadDto"})," \u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"class FilesUploadDto {\n  @ApiProperty({ type: 'array', items: { type: 'string', format: 'binary' } })\n  files: any[];\n}\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u8bf7\u8bbf\u95ee\u5b98\u7f51\uff1a",(0,r.jsx)(n.a,{href:"https://docs.nestjs.com/openapi/operations",children:"https://docs.nestjs.com/openapi/operations"})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},7540:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>o});var r=s(959);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);